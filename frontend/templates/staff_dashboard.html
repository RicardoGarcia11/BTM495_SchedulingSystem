<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Staff Dashboard - Schedule</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/staffdashboard.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    .shift-day {
      background-color: #673ab7;
      color: white;
      border-radius: 5px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <nav>
    <ul>
      <li><a href="{{ url_for('staff_dashboard') }}" class="active">SCHEDULE</a></li>
      <li><a href="{{ url_for('staff_shiftswap') }}">SHIFT SWAP</a></li>
      <li><a href="{{ url_for('staff_createavailability') }}">CREATE AVAILABILITY</a></li>
      <li><a href="{{ url_for('staff_timeoff') }}">TIME OFF</a></li>
      <li><a href="{{ url_for('staff_messages') }}">MESSAGES</a></li>
      <li><a href="{{ url_for('staff_log_hours') }}">LOG HOURS</a></li>
    </ul>
    <div class="dropdown">
      <div class="dropdown-toggle">Staff</div>
      <div class="dropdown-menu">
        <a href="{{ url_for('logout') }}">LOG OUT</a>
      </div>
    </div>
  </nav>

  <div class="calendar-container">
    <div class="calendar-title">{{ month_name }} {{ year }}</div>
    <div class="calendar-days">
      <div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>
    </div>
    <div class="calendar-dates">
      {% set first_day = datetime(year, now.month, 1).weekday() %}
      {% set blanks = (first_day + 6) % 7 %}
      {% for i in range(blanks) %}
        <div class="calendar-cell"></div>
      {% endfor %}

      {% set num_days = (next_month - now.replace(day=1)).days %}
      {% for day in range(1, num_days + 1) %}
        {% set is_shift_day = false %}
        {% for shift in shifts %}
          {% if shift.shift_date.day == day and shift.shift_date.month == now.month and shift.shift_date.year == year %}
            {% set is_shift_day = true %}
          {% endif %}
        {% endfor %}
        <div class="calendar-cell {% if is_shift_day %}shift-day{% endif %}">
          {{ day }}
        </div>
      {% endfor %}
    </div>
  </div>
</body>
</html>
